<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CyberSubRoom - Manage Users</title>
  <link rel="stylesheet" href="/admin.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap');
  </style>
  <script defer src="/scripts/manageUsers.js"></script>
</head>
<body>
  <header>
    <img class="logo" src="/assests/images.jpeg" alt="CyberSubRoom Logo" />
    <nav>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/plans">Plans</a></li>
        <li><a href="/admin">Admin</a></li>
      </ul>
    </nav>
    <a href="/login"><button>Logout</button></a>
  </header>

  <main class="admin-dashboard">
    <h1>Admin Dashboard</h1>

    <div class="dashboard-container">
      <div class="admin-nav">
        <a href="/admin" class="admin-nav-link">Manage Plans</a>
        <a href="/admin-manage-user" class="admin-nav-link active">Manage Users</a>
        <a href="/admin-feedback"><button class="tab-btn" data-tab="feedback">Manage Feedback</button></a>
      </div>

      <div class="admin-content">
        <h2>Manage Users</h2>

        <div class="form-section">
          <h3>Add / Edit User</h3>
          <form id="user-form" action="/api/users" method="POST">
            <div class="form-group">
              <label for="name">Full Name</label>
              <input type="text" id="name" name="userName" required />
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="userEmail" required />
            </div>
            <div class="form-group">
              <label for="role">Role</label>
              <select id="role" name="userRole">
                <option value="user">Regular User</option>
                <option value="admin">Administrator</option>
                <option value="support">Support Staff</option>
              </select>
            </div>
            <div class="form-group">
              <label for="plan">Assigned Plan</label>
              <select id="plan" name="userPlan">
                <option value="free">Free</option>
                <option value="standard">Standard</option>
                <option value="premium">Premium</option>
              </select>
            </div>
            <div class="form-group">
              <label for="status">Account Status</label>
              <select id="status" name="userStatus">
                <option value="active">Active</option>
                <option value="suspended">Suspended</option>
                <option value="pending">Pending Verification</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="submit-btn">Save User</button>
              <button type="reset" class="reset-btn">Clear</button>
            </div>
          </form>
        </div>

        <div class="existing-users">
          <h3>User Management</h3>
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Plan</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="user-table-body">
              <% if (typeof users !== 'undefined' && users.length > 0) { %>
                <% users.forEach(user => { %>
                  <tr>
                    <td><%= user.name %></td>
                    <td><%= user.email %></td>
                    <td><%= user.role %></td>
                    <td><%= user.plan %></td>
                    <td><%= user.status %></td>
                    <td>
                      <button class="edit-btn" data-id="<%= user.id %>">Edit</button>
                      <button class="delete-btn" data-id="<%= user.id %>">Delete</button>
                    </td>
                  </tr>
                <% }); %>
              <% } else { %>
                <tr>
                  <td colspan="6">No users found</td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h3>Contact Us</h3>
        <p>üìç SalahElDin, Riyadh, Saudi Arabia</p>
        <p>üìû +966 590437680</p>
        <p>üìß contact@CyberSubRoom.com</p>
      </div>

      <div class="footer-section quick-links">
        <h3>Quick Links</h3>
        <a href="/">Home</a>
        <a href="/plans">Plans</a>
        <a href="/feedback">Feedback</a>
      </div>

      <div class="footer-section">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="https://facebook.com">
            <img class="icon" src="/assests/facebook.png" alt="Facebook">
          </a>
          <a href="https://twitter.com">
            <img class="icon" src="/assests/twitter.png" alt="Twitter">
          </a>
          <a href="https://instagram.com">
            <img class="icon" src="/assests/instagram.png" alt="Instagram">
          </a>
          <a href="https://linkedin.com">
            <img class="icon" src="/assests/linkedin.png" alt="LinkedIn">
          </a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; <%= new Date().getFullYear() %> CyberSubRoom. All Rights Reserved.</p>
    </div>
  </footer>
</body>
</html> 